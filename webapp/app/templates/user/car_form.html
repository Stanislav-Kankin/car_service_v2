{% extends "layout/base.html" %}

{% block title %}
    {% if mode == "edit" %}
        –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è ‚Äî CarBot
    {% else %}
        –ù–æ–≤—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å ‚Äî CarBot
    {% endif %}
{% endblock %}

{% block content %}
<div class="mt-8 space-y-6">
    <a href="/me/garage" class="text-xs text-slate-400 hover:text-emerald-400 transition">
        ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–∞—Ä–∞–∂
    </a>

    <div class="relative">
        <div class="absolute inset-0 rounded-3xl bg-slate-900/70 backdrop-blur-2xl border border-slate-800"></div>

        <div class="relative z-10 p-6 md:p-8 space-y-6">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                <div>
                    <p class="text-xs uppercase tracking-[0.25em] text-emerald-400/80 mb-1">
                        {% if mode == "edit" %}
                            –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
                        {% else %}
                            –ù–æ–≤—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å
                        {% endif %}
                    </p>
                    <h1 class="text-2xl font-semibold">
                        {% if mode == "edit" %}
                            –û–±–Ω–æ–≤–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
                        {% else %}
                            –î–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—å –≤ –≥–∞—Ä–∞–∂
                        {% endif %}
                    </h1>
                    <p class="text-sm text-slate-400 mt-1 max-w-md">
                        –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–º–æ–≥—É—Ç –ø–æ–¥–æ–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –°–¢–û –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞—è–≤–∫–∏.
                    </p>
                </div>
            </div>

            {% if error_message %}
                <div class="rounded-xl border border-red-500/40 bg-red-500/10 px-4 py-3 text-sm text-red-100">
                    {{ error_message }}
                </div>
            {% endif %}

            <form method="post" class="space-y-4">
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-semibold text-slate-300 mb-1">
                            –ú–∞—Ä–∫–∞
                        </label>
                        <input
                            type="text"
                            name="brand"
                            value="{{ car.brand if car and car.brand is not none else '' }}"
                            class="w-full rounded-xl border border-slate-700 bg-slate-900/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-1 focus:ring-emerald-400 transition"
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, BMW, Audi, Kia">
                    </div>
                    <div>
                        <label class="block text-xs font-semibold text-slate-300 mb-1">
                            –ú–æ–¥–µ–ª—å
                        </label>
                        <input
                            type="text"
                            name="model"
                            value="{{ car.model if car and car.model is not none else '' }}"
                            class="w-full rounded-xl border border-slate-700 bg-slate-900/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-1 focus:ring-emerald-400 transition"
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 5 Series, Rio, Octavia">
                    </div>
                </div>

                <div class="grid md:grid-cols-3 gap-4">
                    <div>
                        <label class="block text-xs font-semibold text-slate-300 mb-1">
                            –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞
                        </label>
                        <input
                            type="text"
                            name="year"
                            value="{{ car.year if car and car.year is not none else '' }}"
                            class="w-full rounded-xl border border-slate-700 bg-slate-900/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-1 focus:ring-emerald-400 transition"
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 2015">
                    </div>
                    <div>
                        <label class="block text-xs font-semibold text-slate-300 mb-1">
                            –ì–æ—Å. –Ω–æ–º–µ—Ä
                        </label>
                        <input
                            type="text"
                            name="license_plate"
                            value="{{ car.license_plate if car and car.license_plate is not none else '' }}"
                            class="w-full rounded-xl border border-slate-700 bg-slate-900/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-1 focus:ring-emerald-400 transition"
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 1234 AB-7">
                    </div>
                    <div>
                        <label class="block text-xs font-semibold text-slate-300 mb-1">
                            VIN
                        </label>
                        <input
                            type="text"
                            name="vin"
                            value="{{ car.vin if car and car.vin is not none else '' }}"
                            class="w-full rounded-xl border border-slate-700 bg-slate-900/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-1 focus:ring-emerald-400 transition"
                            placeholder="17 —Å–∏–º–≤–æ–ª–æ–≤ VIN (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏)">
                    </div>
                </div>

                <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 pt-4">
                    <p class="text-xs text-slate-500 max-w-md">
                        –í—ã –≤—Å–µ–≥–¥–∞ —Å–º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–∑–∂–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ Telegram-–±–æ—Ç–∞.
                    </p>
                    <div class="flex gap-3">
                        <a href="/me/garage"
                           class="inline-flex items-center gap-2 rounded-full border border-slate-600 px-5 py-2 text-xs font-semibold text-slate-200 hover:border-slate-400 hover:text-slate-50 transition">
                            –û—Ç–º–µ–Ω–∞
                        </a>
                        <button type="submit"
                                class="inline-flex items-center gap-2 rounded-full bg-emerald-500 px-6 py-2.5 text-sm font-semibold text-slate-900 shadow-lg shadow-emerald-500/30 hover:bg-emerald-400 transition">
                            {% if mode == "edit" %}
                                üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                            {% else %}
                                ‚ûï –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å
                            {% endif %}
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
